{% extends 'base.html.twig' %}

{% block title %}
  Garage V. Parrot - Ventes
{% endblock %}

{% block body %}
  <div class="container mt-4">
    <div class="row justify-content-center">
      <div class="col-md-3">
        <form class="form-inline filter-form mx-auto">
          <div class="form-group">
            <label for="minMileage" class="mr-2">Kilométrage min:</label>
            <input type="text" name="minMileage" id="minMileage" class="form-control" placeholder="Min">
          </div>
          <div class="form-group">
            <label for="maxMileage" class="mr-2">Kilométrage max:</label>
            <input type="text" name="maxMileage" id="maxMileage" class="form-control" placeholder="Max">
          </div>
        </form>
      </div>
      <div class="col-md-3">
        <form class="form-inline filter-form mx-auto">
          <div class="form-group">
            <label for="minReleaseYear" class="mr-2">Année min:</label>
            <input type="text" name="minReleaseYear" id="minReleaseYear" class="form-control" placeholder="Min">
          </div>
          <div class="form-group mr-2">
            <label for="maxReleaseYear" class="mr-2">Année max:</label>
            <input type="text" name="maxReleaseYear" id="maxReleaseYear" class="form-control" placeholder="Max">
          </div>
        </form>
      </div>
      <div class="col-md-3">
        <form class="form-inline filter-form mx-auto">
          <div class="form-group">
            <label for="minPrice" class="mr-2">Prix min:</label>
            <input type="text" name="minPrice" id="minPrice" class="form-control" placeholder="Min">
          </div>
          <div class="form-group mr-2">
            <label for="maxPrice" class="mr-2">Prix max:</label>
            <input type="text" name="maxPrice" id="maxPrice" class="form-control" placeholder="Max">
          </div>
          <button type="submit" class="btn btn-primary ml-2">Filtrer</button>
        </form>
      </div>
    </div>
  </div>

  {% if not cars.items is same as ([]) %}
    <div class="count">
        <h3>Il y a {{ cars.getTotalItemCount }} voitures disponibles à la vente.</h3>
    </div>

    {% if form is defined and form is not null %}
      {{ form(form) }}
    {% endif %}

    <div class="showCar row text-center">
      {% for car in cars %}
        {% include "partials/_cars.html.twig" with {'car' : car} %}
      {% endfor %}
    </div>

    <div class="navigation d-flex justify-content-center mt-4">
      {{ knp_pagination_render(cars) }}
    </div>
      {% else %}
    <div>
      <h3>Il n'y a pas de voiture de disponible à la vente.</h3>
    </div>
  {% endif %}

{% endblock %}